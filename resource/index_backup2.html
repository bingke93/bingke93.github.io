<!DOCTYPE html>
<html lang="en">
    <head>
		<meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> 
		<meta name="viewport" content="width=device-width, initial-scale=1.0"> 
        <title>A Walking Map</title>
        <meta name="description" content="A Walking Map" />
        <meta name="keywords" content="css3, experiment, 3d, unfolding, fold, paper, component, element, web design, jquery, plugin, perspective" />
        <meta name="author" content="Blake" />
        <link rel="shortcut icon" href="../favicon.ico"> 
        <link rel="stylesheet" type="text/css" href="css/demo.css" />
        <link rel="stylesheet" type="text/css" href="css/pfold.css" />
        <link rel="stylesheet" type="text/css" href="css/custom1.css" />
        <link rel="stylesheet" type="text/css" href="css/customed.css" />
		<script type="text/javascript" src="js/modernizr.custom.79639.js"></script> 
		<!--[if lte IE 8]><style>.support-note .note-ie{display:block;}</style><![endif]-->
		<style>
			body { background: url(images/bg.jpg); }
			.container > header h1 {
			    color: #fff;
			    text-shadow: 1px 1px 1px rgba(0,0,0,0.4);
			}

			.container > header h2,
			p.info  {
			    color: #4e2f1d;
			    text-shadow: 1px 1px 1px rgba(255,255,255,0.5);
			}
		</style>
    </head>
    <body>
        <div class="container">
			
			<header>
			
				<h1><strong>A Walking Map</strong></h1>
				
				<div class="support-note"><!-- let's check browser support with modernizr -->
					<span class="no-csstransforms3d">CSS 3D transforms are not supported in your browser</span>
					<span class="note-ie">Sorry, only modern browsers.</span>
				</div>
				
			</header>
			
			<section class="main demo-1">
				
				<div id="uc-container" class="uc-container">
					<div class="uc-initial-content">
						<!-- custom content -->
						<span class="clickme">Click me</span>
					</div>
					<div class="uc-final-content">
						<!-- custom content -->
						<div class="scrollwrap">
							<img id="map_overall" src="images/map_overall.png"/>
							
							<div id="grid">
								<div class="uc-c">
									<div class="map_section" id="map_1">
										<img src="images/1.png"/>
										<span class="icon-eye"></span>
									</div>

									<div>
										<img src="images/large/2.jpg" alt="image02-large" />
										<div class="title"><h4>Planet</h4> by Dan Matutina <a href="http://drbl.in/eZoL" class="icon-link"></a></div>
										<span class="icon-cancel"></span>
									</div>
								</div>
								
								
								<div class="uc-container">
									<div class="map_section" id="map_2">
										<img src="images/2.png"/>
										<span class="icon-eye"></span>
									</div>

									<div class="uc-final-content">
										<img src="images/large/2.jpg" alt="image02-large" />
										<div class="title"><h4>Planet</h4> by Dan Matutina <a href="http://drbl.in/eZoL" class="icon-link"></a></div>
										<span class="icon-cancel"></span>
									</div>
								</div>
								
								<div class="uc-container">
									<div class="map_section" id="map_3">
										<img src="images/3.png"/>
										<span class="icon-eye"></span>
									</div>

									<div class="uc-final-content">
										<img src="images/large/2.jpg" alt="image02-large" />
										<div class="title"><h4>Planet</h4> by Dan Matutina <a href="http://drbl.in/eZoL" class="icon-link"></a></div>
										<span class="icon-cancel"></span>
									</div>
								</div>
								
								<div class="uc-container">
									<div class="map_section" id="map_4">
										<img src="images/4.png"/>
										<span class="icon-eye"></span>
									</div>

									<div class="uc-final-content">
										<img src="images/large/2.jpg" alt="image02-large" />
										<div class="title"><h4>Planet</h4> by Dan Matutina <a href="http://drbl.in/eZoL" class="icon-link"></a></div>
										<span class="icon-cancel"></span>
									</div>
								</div>
							</div>
							
							
						</div>
						<span class="close">x</span>
					</div>
				</div>
				<p class="info"><strong>Descriptions:</strong> Done by Blake!</p>
			</section>

		</div>
		<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
		<script type="text/javascript" src="js/jquery.pfold.js"></script>
		<script type="text/javascript">
			$(function() {

				var $container = $( '#uc-container' ),
					pfold = $( '#uc-container' ).pfold({
						easing : 'ease-in-out',
						folds : 3,
						folddirection : ['left','bottom','right']
					});

				$container.find( 'span.clickme' ).on( 'click', function() {

					pfold.unfold();

				} ).end().find( 'span.close' ).on( 'click', function() {

					pfold.fold();

				} );

				
				// say we want to have only one item opened at one moment
				var opened = false;

				$( '#grid > div.uc-c' ).each( function( i ) {

					var $item = $( this ), direction;

					switch( i ) {
						case 0 : direction = ['right','bottom']; break;
						case 1 : direction = ['left','bottom']; break;
						case 2 : direction = ['right','top']; break;
						case 3 : direction = ['left','top']; break;
					}
					
					var pfold = $item.pfold( {
						folddirection : direction,
						speed : 300,
						onEndFolding : function() { opened = false; },
						centered : true
					} );

					$item.find( 'span.icon-eye' ).on( 'click', function() {

						if( !opened ) {
							opened = true;
							pfold.unfold();
						}


					} ).end().find( 'span.icon-cancel' ).on( 'click', function() {

						pfold.fold();

					} );

				} );
				
			});
		</script>
    </body>
</html>